{% extends "base.html" %}

{% block title %}<title>Chat Room</title>{% endblock %}

{% block content %}
<div class="row">
    <div class="col">
        <p>What chat room would you like to join?</p>
        <div class="form-group my-3">
            <input type="text" id="room-number-input" class="form-control">
        </div>
        <div class="form-group my-3">
            <button id="room-number-submit" class="btn btn-primary">
                Enter
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    const room_number_input = document.querySelector("#room-number-input");
    const room_number_submit = document.querySelector("#room-number-submit");

    room_number_input.focus();
    room_number_input.addEventListener("keyup", e => {
        if (e.keyCode == 13) { // enter, return
            room_number_submit.click();
        }
    });
    room_number_submit.addEventListener("click", e => {
        const room_number = room_number_input.value;
        window.location.pathname = "/chat/" + room_number + "/";
    });
</script>
{% endblock %}